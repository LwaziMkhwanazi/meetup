{"ast":null,"code":"// POST api/new-meetups\nimport { MongoClient } from \"mongodb\";\n\nasync function handler(req, res) {\n  if (req.method === 'POST') {\n    try {\n      const data = req.body;\n      const {\n        title,\n        description,\n        image,\n        address\n      } = data;\n      const client = await MongoClient.connect('mongodb+srv://Lwazim:lwazi209@cluster0.0sjak.mongodb.net/Meet-ups?retryWrites=true&w=majority');\n      const db = client.db();\n      const meetupCollections = db.collection('meetups');\n      const results = await meetupCollections.insertOne({\n        title,\n        description,\n        image,\n        address\n      });\n      console.log(results);\n      client.close();\n      res.status(201).json({\n        message: \"Meetup created\"\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["C:/Users/Admin.RSTPIT-BCD16.000/Desktop/next-tut/pages/api/new-meetups.js"],"names":["MongoClient","handler","req","res","method","data","body","title","description","image","address","client","connect","db","meetupCollections","collection","results","insertOne","console","log","close","status","json","message","error"],"mappings":"AAAA;AACA,SAAQA,WAAR,QAA0B,SAA1B;;AAEC,eAAeC,OAAf,CAAuBC,GAAvB,EAA2BC,GAA3B,EAA+B;AAC5B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAlB,EAAyB;AACjB,QAAI;AACA,YAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,YAAM;AAACC,QAAAA,KAAD;AAAOC,QAAAA,WAAP;AAAmBC,QAAAA,KAAnB;AAAyBC,QAAAA;AAAzB,UAAoCL,IAA1C;AACA,YAAMM,MAAM,GAAG,MAAOX,WAAW,CAACY,OAAZ,CAAoB,+FAApB,CAAtB;AACA,YAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACI,YAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AACF,YAAMC,OAAO,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4B;AAACV,QAAAA,KAAD;AAAOC,QAAAA,WAAP;AAAmBC,QAAAA,KAAnB;AAAyBC,QAAAA;AAAzB,OAA5B,CAAtB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAL,MAAAA,MAAM,CAACS,KAAP;AACAjB,MAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB;AACL,KAVD,CAUE,OAAOC,KAAP,EAAc;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACD,OAAlB;AACH;AACR;AACJ;;AAED,eAAetB,OAAf","sourcesContent":["// POST api/new-meetups\r\nimport {MongoClient} from \"mongodb\"\r\n\r\n async function handler(req,res){\r\n    if(req.method === 'POST'){\r\n            try {\r\n                const data = req.body\r\n                const {title,description,image,address} = data\r\n                const client = await  MongoClient.connect('mongodb+srv://Lwazim:lwazi209@cluster0.0sjak.mongodb.net/Meet-ups?retryWrites=true&w=majority')\r\n                const db = client.db()\r\n                    const meetupCollections = db.collection('meetups')\r\n                  const results = await meetupCollections.insertOne({title,description,image,address})\r\n                  console.log(results)\r\n                  client.close()\r\n                  res.status(201).json({message:\"Meetup created\"})\r\n            } catch (error) {\r\n                console.log(error.message)\r\n            }\r\n    }\r\n}\r\n\r\nexport default handler\r\n"]},"metadata":{},"sourceType":"module"}